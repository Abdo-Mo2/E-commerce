<div class="min-h-[calc(100dvh-120px)] grid place-items-center px-4 bg-gradient-to-b from-white to-slate-50">
  <div class="w-full max-w-md bg-white border border-slate-100 rounded-2xl p-6 shadow-sm">
    <h1 class="text-center text-xl font-bold">Forgot password</h1>
    <p class="text-center text-slate-500 text-sm mb-4">Reset your account password</p>

    @if (errorMessage) {
      <div class="text-center text-red-600 text-sm mb-2">{{ errorMessage }}</div>
    }

    @if (step==='request') {
    <form [formGroup]="requestForm" (ngSubmit)="request()" class="grid gap-3">
      <div>
        <label for="email" class="block text-sm text-slate-700 mb-1">Email</label>
        <input id="email" type="email" formControlName="email" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" placeholder="you@example.com" />
      </div>
      <button type="submit" class="h-11 rounded-xl bg-indigo-600 text-white font-semibold disabled:opacity-70" [disabled]="loading || requestForm.invalid">Send code</button>
    </form>
    }

    @if (step==='verify') {
    <form [formGroup]="verifyForm" (ngSubmit)="verify()" class="grid gap-3">
      <div>
        <label for="code" class="block text-sm text-slate-700 mb-1">Verification code</label>
        <input id="code" type="text" formControlName="resetCode" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" placeholder="123456" />
      </div>
      <button type="submit" class="h-11 rounded-xl bg-indigo-600 text-white font-semibold disabled:opacity-70" [disabled]="loading || verifyForm.invalid">Verify</button>
    </form>
    }

    @if (step==='reset') {
    <form [formGroup]="resetForm" (ngSubmit)="reset()" class="grid gap-3">
      <div>
        <label for="newPassword" class="block text-sm text-slate-700 mb-1">New password</label>
        <input id="newPassword" type="password" formControlName="newPassword" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" placeholder="••••••••" />
      </div>
      <button type="submit" class="h-11 rounded-xl bg-emerald-600 text-white font-semibold disabled:opacity-70" [disabled]="loading || resetForm.invalid">Reset password</button>
    </form>
    }
  </div>
</div>


