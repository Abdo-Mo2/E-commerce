<div class="min-h-[calc(100dvh-120px)] grid place-items-center px-4 bg-gradient-to-b from-white to-slate-50">
  <div class="w-full max-w-md bg-white border border-slate-100 rounded-2xl p-6 shadow-sm">
    <h1 class="text-center text-xl font-bold">Create account</h1>
    <p class="text-center text-slate-500 text-sm mb-4">Join to start shopping</p>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="grid gap-3">
      <div>
        <label for="name" class="block text-sm text-slate-700 mb-1">Full name</label>
        <input id="name" type="text" formControlName="name" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" [class.border-red-400]="registerForm.get('name')?.invalid && registerForm.get('name')?.touched" placeholder="John Doe" />
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('name')?.hasError('required') && registerForm.get('name')?.touched">Name is required.</div>
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('name')?.hasError('minlength') && registerForm.get('name')?.touched">Name must be at least 3 characters.</div>
      </div>

      <div>
        <label for="email" class="block text-sm text-slate-700 mb-1">Email</label>
        <input id="email" type="email" formControlName="email" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" [class.border-red-400]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" placeholder="you@example.com" />
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched">Email is required.</div>
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched">Enter a valid email.</div>
      </div>

      <div>
        <label for="password" class="block text-sm text-slate-700 mb-1">Password</label>
        <input id="password" type="password" formControlName="password" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" [class.border-red-400]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" placeholder="••••••••" />
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched">Password is required.</div>
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('password')?.hasError('minlength') && registerForm.get('password')?.touched">Password must be at least 6 characters.</div>
      </div>

      <div>
        <label for="rePassword" class="block text-sm text-slate-700 mb-1">Re-enter password</label>
        <input id="rePassword" type="password" formControlName="rePassword" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" [class.border-red-400]="(registerForm.hasError('passwordsMismatch') && registerForm.get('rePassword')?.touched) || (registerForm.get('rePassword')?.hasError('required') && registerForm.get('rePassword')?.touched)" placeholder="••••••••" />
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('rePassword')?.hasError('required') && registerForm.get('rePassword')?.touched">Please re-enter your password.</div>
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.hasError('passwordsMismatch') && registerForm.get('rePassword')?.touched">Passwords do not match.</div>
      </div>

      <div>
        <label for="phone" class="block text-sm text-slate-700 mb-1">Phone</label>
        <input id="phone" type="tel" formControlName="phone" class="w-full h-11 rounded-xl border border-slate-200 px-3 outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition" [class.border-red-400]="registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched" placeholder="+201234567890" />
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('phone')?.hasError('required') && registerForm.get('phone')?.touched">Phone is required.</div>
        <div class="text-red-600 text-xs mt-1" *ngIf="registerForm.get('phone')?.hasError('pattern') && registerForm.get('phone')?.touched">Enter a valid phone number.</div>
      </div>

      <div class="text-center text-red-600 text-sm" *ngIf="errorMessage">{{ errorMessage }}</div>

      <button type="submit" class="h-11 rounded-xl bg-gradient-to-tr from-indigo-600 to-indigo-500 text-white font-semibold disabled:opacity-70 active:translate-y-px transition" [disabled]="loading || registerForm.invalid">
        <span *ngIf="!loading">Send Data</span>
        <span *ngIf="loading">Creating account...</span>
      </button>
      <p class="text-center text-slate-500 text-xs">Already have an account? <a routerLink="/signin" class="text-blue-600 hover:underline">Sign in</a></p>
    </form>
  </div>
</div>
